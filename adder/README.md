# ADDER
```
ipt a[0:3];
ipt b[0:3];
opt c[0:4];

// 类似肖特基二极管的低寄生参数、超低导通压降器件
stk s0[0:3];
stk s1[1:3];
stk s2[2:3];
stk s3[3:3];

wir t0[0:3] <- a nor  b;
wir t1[0:3] <- a nand b;
wir t2[0:3] <- a xor  b;

// 第 0 位的进位线（负逻辑，0 表示进位未被截断，可以从低位一直往高位传）
s0[0].i <- t1[0];
s0[1].i <- s0[0].o wor (t0[1] ? 1b'1 : 1b'z);
s0[2].i <- s0[1].o wor (t0[2] ? 1b'1 : 1b'z);
s0[3].i <- s0[2].o wor (t0[3] ? 1b'1 : 1b'z);

// 第 1 位的进位线
s1[1].i <- t1[1];
s1[2].i <- s1[1].o wor (t0[2] ? 1b'1 : 1b'z);
s1[3].i <- s1[2].o wor (t0[3] ? 1b'1 : 1b'z);

// 第 2 位的进位线
s2[2].i <- t1[2];
s2[3].i <- s2[2].o wor (t0[3] ? 1b'1 : 1b'z);

// 第 3 位的进位线
s3[3].i <- t1[3];

c[0] <- t2[0];
c[1] <- s0[0]                         ? t2[1] : ~t2[1];
c[2] <- s0[0] & s1[1]                 ? t2[2] : ~t2[2];
c[3] <- s0[0] & s1[1] & s2[2]         ? t2[3] : ~t2[3];
c[4] <- s0[0] & s1[1] & s2[2] & s3[3] ? 1b'0  : 1b'1;
```
